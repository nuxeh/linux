This release is based on the v4.2/rcar-3.0.x branch from the 
git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas-bsp.git
as the current upstream does not have as many features enabled yet.

There have been a couple of fixes to ensure the H3 build works on the
H3 Salvator-X board. The framebuffer blank code caused an OOPS due to
several functions failing to check for a NULL setting and to ensure
the kernel works when just the Renesas SoCs are selected.

Notes:

Due to issues with console blanking, it is recommended that the console
blanking is turned off with the kernel command line paramter "consoleblank=0"

Known issues:

Audio support is currently missing DMA. There is limited support in to just
output audio using the SSI block without any audio pipleline.

USB3 host is not working, it is not known if this due to settings on the
r8a7795 or some fault on the salvator-x board. There isn't sufficient
debug information in the r8a7795 manual.

PCIe works under light to medium load. An XHCI card with high-speed device
is operational but the same card with a SuperSpeed device causes they system
to crash. Further testing has been moved to future time.

The du outputs are currently being fed from one plane. Further testing with
multiple channels will be in a future release.

No further progress on the CSI/VIN has been made, the CSI driver is detecting
video but there is no video data being transfered. This is schedulded for
further investigation.

SYS-DMAC2 does not currently work, and using it will cause the board to lock.
This is noted in the BSP yocto release notes #79019

The EthernetAVB block will not run correctly at 1Gbps speeds on the salvator-x
board. It is not known if this is a board or SoC issue and since the 10/100M
operation is fine this is not currently a priority to fix.
(This is noted in the yocto release notes)

USB3 XHCI
---------

The USB3 XHCI driver has been enabled but is not currently working with
the Salvator-X board. It is not yet known if there is a board or SoC issue
with it.

The XHCI driver requires firmware to work, and the current setup it will
not re-request it if the XHCI driver is built into the kernel. If built
as a module, it should be automatically loaded when the user filesytem
is mounted and init run. If not, it should be possible to force the
driver to re-bind using sysfs (not tested)

The firmware is available in the linux firwmare repository.

xhci-hcd ee000000.usb: Direct firmware load for r8a779x_usb3_v2.dlmem failed wi
th error -2 



Updates since previous release
==============================

- Fixed USB2_OVC pinctrl definition (stop error from usb2 phy driver)
- Updated current USB3 state (added notes on driver loading)

The RWDT is still not working, awaiting errata to confirm if this is an
SoC or board issue. SWDT is not available.


Updates since previous release (597682df5f2f1f6f8818bb4f6193c39991f717b7)
=========================================================================

- Add debug for ioremap.c warning if attempt to remap kernel memory (pvr)
- The msiof0_sync pin is used for audio clock on salvator-x board
- Fixed sh-pfc for r8a7795 pins that have GPSR only control.
- Added HSCIF0 (BT_UART expansion header)

MSIOF0 has been tested to pins now the pinctrl is fixed and the other MSIOF
blocks respond to transfer requests. This is as far as the MSIOF blocks can
be tested on the Slavator-X board.

SCIF1 and SCIF2 have been tested (SCIF1 is used for console) and HSCIF1
has been tested by swapping with SCIF1.


Updates since previous release (977219891f747464c042fafb5ab5fa360b555275)
=========================================================================

- Audio as PIO only added
 - Fixed minor issues with audio clocking
- Updates for release


Updates since previous release (878f54de565b58cdcd38fb54e431bb5d9c9566f5)
=========================================================================

- RT-DMAC device nodes added and block tested
- XHCI0 device nodes and firmware loading added (see XHCI USB3 notes)
- Onboard gpio expander added (and driver loading bug fixed)
- PWM channels 1 and 2 have been tested

Updates to the h3_defconfig have been made to reflect the current development
work. 



To build:

export CROSS_COMPILE=aarch64-linux-gnu-
export ARCH=arm64
make h3_defconfig
make -j8 Image

To boot (via u-boot):

# change these network settings to ones appropriate for the board
setenv ethaddr 2e:09:0a:00:9f:9f; setenv netmask 255.255.0.0
setenv ipaddr 10.24.102.99; setenv serverip 10.24.1.119

# set to boot from sata or usb device
setenv bootargs console=ttySC0,115200 mem=2048M root=/dev/sda1 rootwait

# copy slav.img (arch/arm64/boot/Image) to tftp server
# copy r8a7795-salvator-x.dtb (arch/arm64/boot/dts/renesas/r8a7795-salvator-x.dtb) to tftp server

tftp 0x48080000 salv.img; tftp 0x48000000 r8a7795-salvator-x.dtb; booti 0x48080000 - 0x48000000
